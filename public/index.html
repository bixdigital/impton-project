<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMPACT TON</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js" defer></script> <!-- Updated SDK link -->
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="https://i.imgur.com/XITPp8g.png" alt="IMPACT TON Logo" width="50" height="50">
                IMPACT TON
            </div>
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="roadmap.html">Roadmap</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section id="home" class="hero">
        <h1>Welcome to IMPACT TON</h1>
        <p>Empowering users and fostering community engagement.</p>
        <a href="#about" class="cta">Learn More</a>
    </section>

    <section id="about">
        <h2>About IMPTON</h2>
        <p>IMPTON is an exciting new token on the TON blockchain designed to empower users and foster community engagement.</p>
        <p>With low transaction fees and seamless integration into dApps, IMPTON is set to revolutionize how we interact online.</p>
    </section>

    <section id="claim">
        <h2>Claim Your Tokens</h2>
        <div class="section" id="tonconnect-buttons"></div> <!-- Container for dynamic wallet buttons -->
    </section>

    <section id="roadmap">
        <h2>Roadmap</h2>
        <ul>
            <li>Phase 1: Token Creation</li>
            <li>Phase 2: Community Building</li>
            <li>Phase 3: dApp Launch</li>
            <li>Phase 4: Expand Use Cases</li>
        </ul>
    </section>

    <section id="contact">
        <h2>Contact Us</h2>
        <form id="contactForm">
            <input type="text" placeholder="Your Name" required>
            <input type="email" placeholder="Your Email" required>
            <textarea placeholder="Your Message" required></textarea>
            <button type="submit">Send Message</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2024 IMPACT TON. All rights reserved.</p>
    </footer>

    <script>
        const $ = document.querySelector.bind(document);
        
        window.onload = async () => {
            const connector = new TonConnectSDK.TonConnect();
            const walletsList = await connector.getWallets();

            let buttonsContainer = $('#tonconnect-buttons');
            
            for (let wallet of walletsList) {
                let connectButton = document.createElement('button');
                connectButton.innerText = 'Connect with ' + wallet.name;
                
                if (wallet.embedded) {
                    connectButton.classList.add('featured');
                }
                
                if (!wallet.bridgeUrl && !wallet.injected && !wallet.embedded) {
                    connectButton.disabled = true;
                }
                
                buttonsContainer.appendChild(connectButton);
                
                // Event listener for the connect button
                connectButton.addEventListener('click', async () => {
                    try {
                        await connector.connectWallet();
                        console.log('Wallet connected successfully!');
                        // Optional: Call your payment function or handle further actions here
                    } catch (error) {
                        console.error('Failed to connect wallet:', error);
                        alert('Error connecting to wallet. Please try again.');
                    }
                });
            }
        };
    </script>
</body>
</html>
